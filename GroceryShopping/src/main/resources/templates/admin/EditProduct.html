<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Edit Product</title>

<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
	rel="stylesheet">
</head>

<body class="bg-light">

	<div class="container py-5">
		<div class="row justify-content-center">
			<div class="col-md-8 col-lg-6">
				<div id="msg-box" th:if="${msg}" th:text="${msg}"
					style="color: green; font-size: 18px; font-weight: bold;"></div>
				<div class="card shadow-lg border-0 rounded-4">
					<div
						class="card-header bg-primary text-white text-center py-3 rounded-top-4">
						<h3 class="mb-0">Edit Product</h3>
					</div>

					<div class="card-body p-4">

						<form th:action="@{/admin/updateproduct}" th:object="${product}"
							method="post" enctype="multipart/form-data">

							<!-- Product Id -->
							<div class="mb-3">
								<label class="form-label">Product Id</label> <input type="text"
									th:field="*{id}" class="form-control" readonly="readonly">
							</div>

							<!-- Hidden Old Image Name -->
							<input type="hidden" th:field="*{image}" />

							<!-- Product Name -->
							<div class="mb-3">
								<label class="form-label">Product Name</label> <input
									type="text" th:field="*{product_name}" class="form-control"
									required>
							</div>

							<!-- Brand Name -->
							<div class="mb-3">
								<label class="form-label">Brand Name</label> <input type="text"
									th:field="*{brand_name}" class="form-control" required>
							</div>

							<!-- Category -->
							<div class="mb-3">
								<label class="form-label">Category</label> <select
									th:field="*{category}" class="form-control" required>
									<option value="">Select Category</option>
									<option value="Atta Rice and Dal">Atta,Rice & Dal</option>
									<option value="Oil and Ghee">Oil and Ghee</option>
									<option value="Tea Coffee and Beverages">Tea, Coffee &
										Beverages</option>
									<option value="Dry Fruits">Dry Fruits</option>
									<option value="Masala Spices and Salt">Masala,Spices &
										Salt</option>
									<option value="Sauces and Spreads">Sauces & Spreads</option>
									<option value="Vegetable">Vegetable</option>
									<option value="Fruits">Fruits</option>
									<option value="Instant Food">Instant Food</option>
									<option value="Festival Specials">Festival Specials</option>
								</select>
							</div>

							<!-- Price -->
							<div class="mb-3">
								<label class="form-label">Price</label> <input type="number"
									th:field="*{price}" class="form-control" required step="0.01">
							</div>

							<!-- Unit -->
							<div class="mb-3">
								<label class="form-label">Unit</label> <select
									th:field="*{unit}" class="form-control" required>
									<option value="">Select Unit</option>
									<option value="kg">kg</option>
									<option value="g">g</option>
									<option value="l">l</option>
									<option value="ml">ml</option>
									<option value="piece">piece</option>
									<option value="dozen">dozen</option>
									<option value="packet">packet</option>
									<option value="box">box</option>
								</select>
							</div>

							<!-- Description -->
							<div class="mb-3">
								<label class="form-label">Description</label>
								<textarea th:field="*{description}" class="form-control"
									rows="3"></textarea>
							</div>

							<!-- Status -->
							<div class="mb-3">
								<label class="form-label d-block">Status</label>

								<div class="form-check">
									<input class="form-check-input" type="radio"
										th:field="*{status}" value="true"> <label
										class="form-check-label">Available</label>
								</div>

								<div class="form-check">
									<input class="form-check-input" type="radio"
										th:field="*{status}" value="false"> <label
										class="form-check-label">Not Available</label>
								</div>
							</div>

							<!-- Show Old Image -->
							<div class="mb-3 text-center">
								<img th:src="@{'/img/product/' + ${product.image}}"
									class="img-fluid rounded" style="max-height: 150px;">
								<p class="text-muted mt-1">Current Image</p>
							</div>

							<!-- Upload New Image -->
							<div class="mb-3">
								<label class="form-label">Upload New Image</label> <input
									type="file" name="file" class="form-control">
							</div>

							<!-- Submit -->
							<div class="d-grid">
								<button class="btn btn-primary btn-lg">Update Product</button>
							</div>

						</form>

					</div>
				</div>

			</div>
		</div>
	</div>

	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
